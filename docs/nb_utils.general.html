---

title: General utility functions


keywords: fastai
sidebar: home_sidebar

summary: "Various methods to modify and work with python dictionaries"
description: "Various methods to modify and work with python dictionaries"
nb_path: "nb_utils.general.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nb_utils.general.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_config_yaml" class="doc_header"><code>load_config_yaml</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_config_yaml</code>(<strong><code>path_to_yaml</code></strong>)</p>
</blockquote>
<p>Load project config yaml and change relative paths to absolute paths</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AggregatingHook" class="doc_header"><code>class</code> <code>AggregatingHook</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L35" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AggregatingHook</code>(<strong><code>m</code></strong>, <strong><code>hook_func</code></strong>, <strong><code>is_forward</code></strong>=<em><code>True</code></em>, <strong><code>detach</code></strong>=<em><code>True</code></em>, <strong><code>cpu</code></strong>=<em><code>False</code></em>, <strong><code>gather</code></strong>=<em><code>False</code></em>) :: <code>Hook</code></p>
</blockquote>
<p>aggregate hook outputs in 'stored' in case inference is carried out over the entire dataset in a loop</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="n_argmin" class="doc_header"><code>n_argmin</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L49" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>n_argmin</code>(<strong><code>arr</code></strong>:<code>array</code>, <strong><code>n</code></strong>:<code>int</code>)</p>
</blockquote>
<p>returns the indices of the n-smallest values. Note that these may not be in sorted order!</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="n_argmax" class="doc_header"><code>n_argmax</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L53" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>n_argmax</code>(<strong><code>arr</code></strong>:<code>array</code>, <strong><code>n</code></strong>:<code>int</code>)</p>
</blockquote>
<p>returns the indices of the n-largest  values. Note that these may not be in sorted order!</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="state_dicts_equal" class="doc_header"><code>state_dicts_equal</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L58" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>state_dicts_equal</code>(<strong><code>state_dict1</code></strong>:<code>dict</code>, <strong><code>state_dict2</code></strong>:<code>dict</code>, <strong><code>verbose</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Check if two state dicts are the same with a margin of error</p>
<p>Do not need to have the same key names but need same number of keys</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_state_dict" class="doc_header"><code>convert_state_dict</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L86" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_state_dict</code>(<strong><code>state_dict1</code></strong>:<code>dict</code>, <strong><code>state_dict2</code></strong>:<code>dict</code>, <strong><code>strict</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>verbose</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Using keys from 1 and values from 2</p>
<p>Will return a state dict that has min number of keys min(state_dict1, state_dict2).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="custom_save" class="doc_header"><code>custom_save</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L114" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>custom_save</code>(<strong><code>obj</code></strong>, <strong><code>path</code></strong>, <strong><code>final_run</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="custom_load" class="doc_header"><code>custom_load</code><a href="https://github.com/dbo-dkfz/scp/tree/master/scp/utils/general.py#L122" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>custom_load</code>(<strong><code>path</code></strong>, <strong><code>final_run</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

